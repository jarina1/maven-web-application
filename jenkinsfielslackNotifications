node{
try{
def mvnHome = tool name : "maven 3.8.6"
    stage('1.code from github')
    {
        git credentialsId: 'a6637bb3-d910-4ad2-be1c-e7a413417b0b', url: 'https://github.com/jarina1/maven-web-application.git'
     }
     stage('2.build')
     {
     sh "${mvnHome}/bin/mvn  clean package"  
     }
	 }//try ending
caatch(e){
currentBuild.result="FAILURE"
throw e
}//catch ending
finally{
slackNotifications(currentBuild.result)
}//finally ending
}//node ending
  // code snippet for sening slackNotifications.
def slackNotifications(String buildStatus = 'STARTED') {
    // Default values
  def colorName = 'RED'
  def colorCode = '#FF0000'
  def subject = "${buildStatus}: Job '${env.JOB_NAME} [${env.BUILD_NUMBER}]'"
  def summary = "${subject} (${env.BUILD_URL})"

  // Override default values based on build status
  if (buildStatus == 'STARTED') {
    color = 'YELLOW'
    colorCode = '#FFFF00'
  } else if (buildStatus == 'SUCCESSFUL') {
    color = 'GREEN'
    colorCode = '#00FF00'
  } else {
    color = 'RED'
    colorCode = '#FF0000'
  }
  // Send notifications
  slackSend (color: colorCode, message: summary)
}
